package com.ppi.dt.job.temp;

import cn.hutool.core.collection.CollUtil;
import cn.hutool.core.util.StrUtil;
import cn.hutool.http.HttpUtil;
import com.google.common.collect.ImmutableList;

import java.util.List;

/**
 * @author pipi
 * @since 2021/7/8 12:18
 */
public class SimpleJob {

  public static void main(String[] args) {

    String base_url = "https://www.duitang.com/napi/correct/count/?uid={}";
    final ImmutableList<Integer> of = ImmutableList.of(3220162,3300402,3981180,5168652,5414267,5584125,6758307,7144786,7397189,7885015,8157673,8327810,8361724,8841020,9052172,9514657,10151347,10530868,10627733,10718732,10953661,11235503,11288280,11309689,11456807,11471657,11631812,11825519,11982896,12103091,12121236,12155856,12364655,12460675,12483827,12695748,12784312,12797448,12849247,13188703,13218674,13294632,13314064,13323099,13359729,13525104,13610842,13731160,13837530,13842819,14322798,14527239,14700116,14738139,14886021,15048546,15105457,15163648,15193340,15207539,15367414,15379473,15460469,15469244,15670071,15820596,15939007,15973183,16130936,16363820,16617347,16623386,16644245,16662850,16669232,16748026,16754784,16775606,16807116,16863510,16892940,16976966,17099432,17111880,17185984,17199218,17201909,17233127,17240090,17244693,17275050,17332441,17413832,17441908,17487980,17493274,17551887,17687231,17687756,17697714,17762255,17797713,17875437,17891428,17946470,17951030,17986713,18018999,18140036,18179348,18292996,18393980,18408076,18453939,18463626,18481087,18655410,18680863,18862275,18867989,19135368,19183853,19261993,19335106,19339610,19445832,19461821,19474741,19520336,19565291,19566894,19580465,19594549,19632742,19672454,19679782,19705753,19724792,19835481,19876373,19904587,19950605,19959763,19975268,20035368,20113664,20152667,20154253,20158913,20178435,20183037,20193247,20202843,20305768,20402340,20427072,20433693,20538181,20581358,20644954,20683260,20705070,20811198,20839528,20882436,20914932,20984221,20985332,21033774,21066587,21079005,21145850,21162001,21192565,21620588,21913154,22228973,22381617,22484421,22590687,22762465,22775160,22796527,22935862,23044603,23102369,23124721,23244574,23247318,23285171,23298423,23303010,23416976,23423647,23519158,23568328,23579645,23797321,23914432,23931447,24032890,24117925,24203100,24205963,24215378,24226574,24235928,24289971,24314787,24529124,24825860,25513496,25521845,26020041);
    for (Integer id : of) {
      final String body =
          HttpUtil.createGet(StrUtil.format(base_url, id))
              .cookie(
                  "_auth_user_id=27187992; username=%E6%9B%BE%E7%BB%8F%E6%83%B3%E5%BE%81%E6%9C%8D%E5%85%A8%E4%B8%96%E7%95%8C; sgm=usedtags%3D%25u5BB6%25u5C45%253B%25u8BBE%25u8BA1%253B%25u63D2%25u753B%253B%25u7535%25u5F71%253B%25u65C5%25u884C%253B%25u624B%25u5DE5%253B%25u5973%25u88C5%253B%25u7537%25u88C5%253B%25u914D%25u9970%253B%25u7F8E%25u98DF%253B%25u6444%25u5F71%253B%25u827A%25u672F%253B%257C%253B%25u5C01%25u9762%253B%25u52A8%25u6F2B%253B%25u6000%25u65E7%253B%25u8857%25u62CD%253B%25u5C0F%25u5B69%253B%25u5BA0%25u7269%253B%25u690D%25u7269%253B%25u4EBA%25u7269; sessionid=c3c55e16-4329-4799-8337-fe071bda40de; dt_sso_token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJqaW4uY2hlbiIsInJvbGVzIjoiIiwiZXhwIjoxNjI2NzYzNDE2LCJpYXQiOjE2MjYxNTg2MTYsImp0aSI6IjAyNjIifQ.hmuHVck9ewD85nsZ1YsbST6gEbnV0boa8eQN3rtYebXyn3HoMdEiv_Jrh9Pfmtp3Sp5mttVAYOGrgnmOucN5aQ; dt_sso_auth_id=0262; dt_sso_roles=; dt_auth=eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2Mjk2MTQ2MTksInN1YiI6Iuabvue7j-aDs-W-geacjeWFqOS4lueVjCIsImlkIjoyNzE4Nzk5MiwicGxhdGZvcm0iOiJXRUIiLCJ2ZXJzaW9uIjoxfQ.QTMj9RMd7vKMbINlnynIMsD5S2nxogecYaITt4W6T6Q; Hm_lvt_d8276dcc8bdfef6bb9d5bc9e3bcfcaf4=1624956737,1625629644,1625732375,1626158619; js=1; __dtac=; Hm_lpvt_d8276dcc8bdfef6bb9d5bc9e3bcfcaf4=1626169848")
              .execute()
              .body();
      System.out.println(body);
    }
    for (List<Integer> integers : CollUtil.split(of,12)) {
      final String body = HttpUtil.createGet(StrUtil.format("http://10.1.5.111:10140/index/v2/USER_V2/trigger/?ids={}", CollUtil.join(integers, ","))).execute().body();
      System.out.println(body);
    }
  }
}
